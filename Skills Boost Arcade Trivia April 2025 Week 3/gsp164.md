# Cloud Endpoints: Qwik Start|| [GSP164](https://www.cloudskillsboost.google/games/6092/labs/38796) ||
---
## ⚠️ **Important Note:**
This guide is provided to support your educational journey in this lab. Please open and review each step of the script to gain full understanding. Be sure to follow the terms of Qwiklabs and YouTube’s guidelines as you proceed.

---
### Run the following Commands in cloud shall

```
export ZONE=$(gcloud compute project-info describe \
--format="value(commonInstanceMetadata.items[google-compute-default-zone])")

# Instruction for extracting the region
echo "Step 2: Extracting the region from the zone information."
export REGION=$(echo "$ZONE" | cut -d '-' -f 1-2)

# Enabling required services
echo "Step 3: Enabling the API Keys service in your project."
gcloud services enable apikeys.googleapis.com

# Downloading and extracting the quickstart files
echo "Step 4: Downloading and unzipping the Endpoints Quickstart files."
gsutil cp gs://spls/gsp164/endpoints-quickstart.zip .
unzip endpoints-quickstart.zip

# Navigating to the required directories
echo "Step 5: Navigating to the scripts directory for deployment."
cd endpoints-quickstart
cd scripts

# Deploying the API
echo "Step 6: Deploying the API using the provided deployment script."
./deploy_api.sh
echo "Pausing for 60 seconds to avoid quota issues..."
sleep 60

# Deploying the application
echo "Step 7: Deploying the application template to the region: $REGION."
./deploy_app.sh ../app/app_template.yaml $REGION
echo "Pausing for 60 seconds..."
sleep 60

# Querying the API
echo "Step 8: Querying the API to verify its functionality."
./query_api.sh

# Querying the API with a parameter
echo "Step 9: Querying the API with a parameter (e.g., JFK)."
./query_api.sh JFK

# Deploying the API with rate limiting
echo "Step 10: Deploying the API with rate limiting configuration."
./deploy_api.sh ../openapi_with_ratelimit.yaml
echo "Pausing for 60 seconds to avoid quota issues..."
sleep 60

# Redeploying the application
echo "Step 11: Redeploying the application template to the region: $REGION."
./deploy_app.sh ../app/app_template.yaml $REGION
echo "Pausing for 60 seconds..."
sleep 60

# Creating an API key
echo "Step 12: Creating an API key with the display name 'awesome'."
gcloud alpha services api-keys create --display-name="awesome" 

# Fetching the API key name
echo "Step 13: Fetching the name of the created API key."
KEY_NAME=$(gcloud alpha services api-keys list --format="value(name)" --filter "displayName=awesome")

# Fetching the API key string
echo "Step 14: Retrieving the API key string for usage."
export API_KEY=$(gcloud alpha services api-keys get-key-string $KEY_NAME --format="value(keyString)")

# Querying the API with the API key
echo "Step 15: Querying the API using the generated API key."
./query_api_with_key.sh $API_KEY

# Generating traffic with the API key
echo "Step 16: Generating traffic to the API using the API key."
./generate_traffic_with_key.sh $API_KEY

# Querying the API again with the API key
echo "Step 17: Querying the API again to verify the traffic generation."
./query_api_with_key.sh $API_KEY

```